<html>
<head>
  <title>Simple client</title>

  <script type="text/javascript">

    var ws;
    
    function init() {

      // Connect to Web Socket
      ws = new WebSocket("ws://localhost:13254/");

      // Set event handlers.
      ws.onopen = function() {
        output("0");
      };
      
      ws.onmessage = function(e) {
        // e.data contains received string.
        output(e.data);
      };
      
      ws.onclose = function() {
        output("0");
      };

      ws.onerror = function(e) {
        output("0");
        console.log(e)
      };

    }
    
    function onCloseClick() {
      ws.close();
    }
    
    function output(str) {
      var hr = document.getElementById("hr");
      var escaped = str.replace(/&/, "&amp;").replace(/</, "&lt;").
        replace(/>/, "&gt;").replace(/"/, "&quot;"); // "
      hr.innerHTML = escaped;
    }

  </script>
</head>
<body onload="init();">
  <div id="log" style="background-color:#333; color:#fff; width:300px; height:200px;">
	<span style="float:left;"><h3 
style="font-size:20px;color:#ccc;padding-left:10px;padding-right:20px;">Heart<br 
/>Rate</h3></span>
	<span><h1 id="hr" style="font-size:100px;padding:10px;"></h1></span>
  </div>
</body>
</html>
